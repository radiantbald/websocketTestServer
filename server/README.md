# WebSocket Test Server

Go-сервер для тестирования WebSocket соединений с поддержкой различных типов сообщений и сценариев.

## Возможности

- **WebSocket соединения** с поддержкой множественных клиентов
- **Типы сообщений**: чат, ping/pong, echo, системные сообщения
- **Широковещательная рассылка** сообщений всем подключенным клиентам
- **REST API** для получения статуса сервера
- **Подробное логирование** всех событий

## Быстрый старт

### Предварительные требования

- Go 1.21 или новее

### Установка и запуск

1. **Установите зависимости**:
   ```bash
   go mod tidy
   ```

2. **Запустите сервер**:
   ```bash
   go run main.go
   ```
   или
   ```bash
   ./websocket-server
   ```

3. **Проверьте статус**:
   ```bash
   curl http://localhost:9092/status
   ```

## API

### WebSocket Endpoint

- **URL**: `ws://localhost:9092/websocket`
- **Параметры**: `?username=ИмяПользователя`

### REST Endpoints

- **GET /status** - Статус сервера
- **GET /** - HTML клиент (если настроен)

## Типы сообщений

### Chat Message
```json
{
  "type": "chat",
  "content": "Текст сообщения"
}
```

### Ping Message
```json
{
  "type": "ping"
}
```

### Echo Message
```json
{
  "type": "echo",
  "content": "Сообщение для эха"
}
```

## Логирование

Сервер логирует:
- Подключения и отключения клиентов
- Отправленные сообщения
- Ошибки WebSocket соединений
- Статистику клиентов

## Конфигурация

По умолчанию сервер запускается на порту `9092`. Для изменения порта отредактируйте переменную `port` в `main.go`.
