# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ qabase.ru

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞**
```bash
cd /var/www/qabase
./deploy/check-nginx.sh
```

### 2Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS**
- –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º
- –°–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å: `qabase.ru` ‚Üí `IP_–ê–î–†–ï–°_–°–ï–†–í–ï–†–ê`
- –°–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å: `www.qabase.ru` ‚Üí `IP_–ê–î–†–ï–°_–°–ï–†–í–ï–†–ê`
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-15 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS

### 3Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ DNS**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS –∑–∞–ø–∏—Å—å
dig qabase.ru
nslookup qabase.ru

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
```

### 4Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤**
```bash
cd /var/www/qabase
./deploy/setup-ssl.sh
```

### 5Ô∏è‚É£ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTP (–¥–æ–ª–∂–µ–Ω —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç—å –Ω–∞ HTTPS)
curl -I http://qabase.ru

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å HTTPS
curl -I https://qabase.ru

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket
curl -I https://qabase.ru/ws
```

## üîß **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏**

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ Nginx**
```bash
# –°—Ç–∞—Ç—É—Å Nginx
sudo systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Nginx
sudo systemctl reload nginx
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞**
```bash
# –°—Ç–∞—Ç—É—Å WebSocket —Å–µ—Ä–≤–µ—Ä–∞
sudo systemctl status websocket-server

# –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
sudo journalctl -u websocket-server -f
```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ –ø–æ—Ä—Ç—ã —Å–ª—É—à–∞–µ—Ç Nginx
sudo netstat -tlnp | grep nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–ª—É—à–∞–µ—Ç –ª–∏ Go —Å–µ—Ä–≤–µ—Ä –Ω–∞ 9092
sudo netstat -tlnp | grep 9092
```

## üö® **–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**

### **–ü—Ä–æ–±–ª–µ–º–∞: –°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DNS
dig qabase.ru

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Nginx
sudo systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t
```

### **–ü—Ä–æ–±–ª–µ–º–∞: SSL –æ—à–∏–±–∫–∞**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot certificates

# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo certbot renew

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
sudo systemctl reload nginx
```

### **–ü—Ä–æ–±–ª–µ–º–∞: WebSocket –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Go —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
sudo systemctl status websocket-server

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
sudo journalctl -u websocket-server -n 20

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç 9092
sudo netstat -tlnp | grep 9092
```

## üì± **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

### **–í –±—Ä–∞—É–∑–µ—Ä–µ**
- –û—Ç–∫—Ä–æ–π—Ç–µ: `https://qabase.ru`
- –î–æ–ª–∂–Ω–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è —Ç–µ—Å—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ WebSocket –∫–ª–∏–µ–Ω—Ç–∞

### **WebSocket —Ç–µ—Å—Ç**
- –ù–∞–∂–º–∏—Ç–µ "Connect" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –ª–æ–≥–∞—Ö —Å–µ—Ä–≤–µ—Ä–∞

### **API —Ç–µ—Å—Ç**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å API
curl https://qabase.ru/status

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ—Ä–≤–µ—Ä–µ
```

## üéØ **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- ‚úÖ `https://qabase.ru` - –¥–æ—Å—Ç—É–ø–µ–Ω
- ‚úÖ `https://www.qabase.ru` - –¥–æ—Å—Ç—É–ø–µ–Ω  
- ‚úÖ `https://qabase.ru/ws` - WebSocket endpoint
- ‚úÖ `https://qabase.ru/status` - API —Å—Ç–∞—Ç—É—Å
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL

## üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cd /var/www/qabase
./deploy/update.sh
```

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```bash
./deploy/check-nginx.sh
```
